<div class="body-container">
  <h3 class="main-heading">Products Management</h3>
  <div class="product-add-form">
    <form [formGroup]="productForm" (ngSubmit)="addProduct()" class="form">
      <div class="form-controls mgy-1">
        <label for="pname">Product Name</label>
        <div class="form-input">
          <input type="text" id="pname" formControlName="name" placeholder="Trace 200ml">
        </div>
        <div class="flexed mgy-1" style="width: 50%">
          <div class="form-input">
             <label for="price">Unit Price</label>
             <input type="text" class="short" formControlName="unitPrice" placeholder="2,345" id="price">
          </div>
          <div class="form-input">
             <label for="qty">Unit Price</label>
              <input type="number" min="1" class="shorter" formControlName="qty" placeholder="2" id="qty">
          </div>
        </div>
        <div class="form-button mgy-2">
          <button class="btn button-primary" type="submit" [class.disabled]="productForm.invalid">
            <div class="flexed">
              <span>Add Product</span>
              <span>
                <img src="assets/add.svg" width="16" alt="">
              </span>
            </div>
          </button>
        </div>
      </div>
    </form>
  </div>

<!--  Products Inventory section-->
  <div class="products-list">
    <h5 class="sub-heading">Available Products</h5>
    <table class="app-table">
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Unit Price</th>
          <th>Qty</th>
          <th>Sub Total</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let product of products">
          <td>{{product.name}}</td>
          <td>Ksh. {{product.unitPrice.toLocaleString()}}</td>
          <td>{{product.availableUnits}}</td>
          <td>Ksh. {{(product.unitPrice * product.availableUnits).toLocaleString()}}</td>
        </tr>
      </tbody>
    </table>
    <table class="app-table">
        <tbody>
          <tr>
            <td></td>
            <th>Total</th>
            <th>{{getStockTotal().toLocaleString()}}</th>
            <th>Ksh. {{getStockTotalAmount().toLocaleString()}}</th>
          </tr>
        </tbody>
      </table>
  </div>
</div>
